# P1.1 Environment Setup Implementation Plan

## 1. Overview and Objectives

### 1.1 Purpose
This document provides detailed step-by-step instructions for setting up the development environment for The Strengths Toolbox website rebuild project. This includes Laravel framework installation, development tools configuration, Git repository setup, and frontend build tools.

### 1.2 Scope
This implementation plan covers tasks P1.1.1 through P1.1.6:
- **P1.1.1**: Install Laravel framework
- **P1.1.2**: Configure development environment
- **P1.1.3**: Set up Git repository
- **P1.1.4**: Configure IDE and development tools
- **P1.1.5**: Set up Vite and build tools
- **P1.1.6**: Install Tailwind CSS and Alpine.js

### 1.3 Success Criteria
- Laravel 10.x project successfully installed and running
- Development environment fully configured
- Git repository initialized with proper .gitignore
- IDE configured with Laravel support
- Vite build system operational
- Tailwind CSS and Alpine.js integrated and working

## 2. Prerequisites

### 2.1 Required Software
- **PHP**: Version 8.1 or higher
- **Composer**: Latest version
- **Node.js**: Version 18.x or higher
- **npm**: Version 9.x or higher
- **Git**: Latest version
- **MySQL**: Version 8.0 or higher (or access to MySQL database)

### 2.2 Required Knowledge
- Basic command line usage
- PHP and Laravel fundamentals
- Composer package management
- npm package management
- Git version control basics

### 2.3 System Requirements
- Minimum 2GB RAM
- 500MB free disk space
- Internet connection for package downloads

## 3. Task P1.1.1: Install Laravel Framework

### 3.1 Overview
Install Laravel 10.x framework using Composer and create the project structure.

### 3.2 Step-by-Step Implementation

#### Step 1: Verify PHP and Composer
```bash
# Check PHP version (must be 8.1+)
php -v

# Check Composer installation
composer --version
```

#### Step 2: Create Laravel Project
```bash
# Navigate to project parent directory
cd /home/coach/cursor/php/the-strengths-toolbox

# Create new Laravel project
composer create-project laravel/laravel . --prefer-dist

# If project directory already exists, use:
# composer create-project laravel/laravel temp-name
# Then move contents to current directory
```

#### Step 3: Verify Installation
```bash
# Check Laravel version
php artisan --version

# Verify project structure
ls -la
```

Expected output should show:
- `app/` directory
- `config/` directory
- `routes/` directory
- `vendor/` directory
- `artisan` file
- `composer.json` file

### 3.3 Configuration Files to Verify

**File: `composer.json`**
```json
{
    "name": "laravel/laravel",
    "type": "project",
    "description": "The Strengths Toolbox Website",
    "keywords": ["laravel", "framework"],
    "license": "MIT",
    "require": {
        "php": "^8.1",
        "guzzlehttp/guzzle": "^7.2",
        "laravel/framework": "^10.10",
        "laravel/sanctum": "^3.2",
        "laravel/tinker": "^2.8"
    },
    "require-dev": {
        "fakerphp/faker": "^1.9.1",
        "laravel/pint": "^1.0",
        "laravel/sail": "^1.18",
        "mockery/mockery": "^1.4.4",
        "nunomaduro/collision": "^7.0",
        "phpunit/phpunit": "^10.1",
        "spatie/laravel-ignition": "^2.0"
    },
    "autoload": {
        "psr-4": {
            "App\\": "app/",
            "Database\\Factories\\": "database/factories/",
            "Database\\Seeders\\": "database/seeders/"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "Tests\\": "tests/"
        }
    },
    "scripts": {
        "post-autoload-dump": [
            "Illuminate\\Foundation\\ComposerScripts::postAutoloadDump",
            "@php artisan package:discover --ansi"
        ],
        "post-update-cmd": [
            "@php artisan vendor:publish --tag=laravel-assets --ansi --force"
        ],
        "post-root-package-install": [
            "@php -r \"file_exists('.env') || copy('.env.example', '.env');\""
        ],
        "post-create-project-cmd": [
            "@php artisan key:generate --ansi"
        ]
    },
    "extra": {
        "laravel": {
            "dont-discover": []
        }
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true,
        "allow-plugins": {
            "pestphp/pest-plugin": true,
            "php-http/discovery": true
        }
    },
    "minimum-stability": "dev",
    "prefer-stable": true
}
```

### 3.4 Validation
```bash
# Test Laravel installation
php artisan about

# Should display Laravel version and environment information
```

## 4. Task P1.1.2: Configure Development Environment

### 4.1 Overview
Configure the `.env` file with development settings, database connection, and application settings.

### 4.2 Step-by-Step Implementation

#### Step 1: Copy Environment File
```bash
# If .env doesn't exist, copy from example
cp .env.example .env
```

#### Step 2: Generate Application Key
```bash
php artisan key:generate
```

#### Step 3: Configure .env File

**File: `.env`**
```env
APP_NAME="The Strengths Toolbox"
APP_ENV=local
APP_KEY=base64:YOUR_GENERATED_KEY_HERE
APP_DEBUG=true
APP_TIMEZONE=UTC
APP_URL=http://localhost:8000
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=strengthstoolbox
DB_USERNAME=root
DB_PASSWORD=

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=local
QUEUE_CONNECTION=database

CACHE_STORE=file
CACHE_PREFIX=

MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

MAIL_MAILER=log
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

VITE_APP_NAME="${APP_NAME}"
```

#### Step 4: Create Database
```bash
# Connect to MySQL
mysql -u root -p

# Create database
CREATE DATABASE strengthstoolbox CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# Exit MySQL
exit
```

#### Step 5: Test Database Connection
```bash
# Test connection
php artisan migrate:status
```

### 4.3 Validation
```bash
# Verify environment configuration
php artisan config:clear
php artisan config:cache

# Check database connection
php artisan db:show
```

## 5. Task P1.1.3: Set up Git Repository

### 5.1 Overview
Initialize Git repository, configure .gitignore, and set up initial commit structure.

### 5.2 Step-by-Step Implementation

#### Step 1: Initialize Git Repository
```bash
# Initialize git repository
git init

# Set default branch name
git branch -M main
```

#### Step 2: Configure .gitignore

**File: `.gitignore`**
```gitignore
/node_modules
/public/hot
/public/storage
/storage/*.key
/vendor
.env
.env.backup
.env.production
.phpunit.result.cache
Homestead.json
Homestead.yaml
auth.json
npm-debug.log
yarn-error.log
/.fleet
/.idea
/.vscode
```

#### Step 3: Create .gitattributes

**File: `.gitattributes`**
```gitattributes
* text=auto

*.blade.php text eol=lf
*.php text eol=lf
*.js text eol=lf
*.json text eol=lf
*.md text eol=lf
*.yml text eol=lf
*.yaml text eol=lf

*.png binary
*.jpg binary
*.jpeg binary
*.gif binary
*.ico binary
*.svg binary
```

#### Step 4: Initial Commit
```bash
# Add all files
git add .

# Create initial commit
git commit -m "Initial commit: Laravel 10.x project setup"
```

### 5.3 Validation
```bash
# Verify git status
git status

# Check git log
git log --oneline
```

## 6. Task P1.1.4: Configure IDE and Development Tools

### 6.1 Overview
Configure IDE settings and development tools for optimal Laravel development experience.

### 6.2 IDE Configuration Files

#### Step 1: Create PHP CS Fixer Configuration

**File: `.php-cs-fixer.php`** (if using PHP CS Fixer)
```php
<?php

$finder = PhpCsFixer\Finder::create()
    ->in([
        __DIR__ . '/app',
        __DIR__ . '/config',
        __DIR__ . '/database',
        __DIR__ . '/routes',
        __DIR__ . '/tests',
    ])
    ->name('*.php')
    ->notName('*.blade.php')
    ->ignoreDotFiles(true)
    ->ignoreVCS(true);

return (new PhpCsFixer\Config())
    ->setRules([
        '@PSR12' => true,
        'array_syntax' => ['syntax' => 'short'],
        'ordered_imports' => ['sort_algorithm' => 'alpha'],
        'no_unused_imports' => true,
        'not_operator_with_successor_space' => true,
        'trailing_comma_in_multiline' => true,
        'phpdoc_scalar' => true,
        'unary_operator_spaces' => true,
        'binary_operator_spaces' => true,
        'blank_line_before_statement' => [
            'statements' => ['break', 'continue', 'declare', 'return', 'throw', 'try'],
        ],
        'phpdoc_single_line_var_spacing' => true,
        'phpdoc_var_without_name' => true,
    ])
    ->setFinder($finder);
```

#### Step 2: Create EditorConfig

**File: `.editorconfig`**
```ini
root = true

[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
indent_style = space
indent_size = 4
trim_trailing_whitespace = true

[*.md]
trim_trailing_whitespace = false

[*.{yml,yaml}]
indent_size = 2

[*.{js,json}]
indent_size = 2

[*.blade.php]
indent_size = 4
```

#### Step 3: Configure Laravel Pint (Optional but Recommended)

Laravel Pint is included by default in Laravel 10. Configure it:

**File: `pint.json`**
```json
{
    "preset": "laravel",
    "rules": {
        "no_unused_imports": true,
        "ordered_imports": {
            "sort_algorithm": "alpha"
        }
    }
}
```

### 6.3 Validation
```bash
# Test code formatting (if Pint is configured)
./vendor/bin/pint --test
```

## 7. Task P1.1.5: Set up Vite and Build Tools

### 7.1 Overview
Install and configure Vite as the build tool for frontend assets.

### 7.2 Step-by-Step Implementation

#### Step 1: Initialize package.json
```bash
# Initialize npm (if package.json doesn't exist)
npm init -y
```

#### Step 2: Install Vite and Laravel Plugin
```bash
# Install Vite and Laravel Vite plugin
npm install --save-dev vite laravel-vite-plugin
```

#### Step 3: Create Vite Configuration

**File: `vite.config.js`**
```javascript
import { defineConfig } from 'vite';
import laravel from 'laravel-vite-plugin';

export default defineConfig({
    plugins: [
        laravel({
            input: [
                'resources/css/app.css',
                'resources/js/app.js',
            ],
            refresh: true,
        }),
    ],
    server: {
        hmr: {
            host: 'localhost',
        },
    },
});
```

#### Step 4: Update package.json Scripts

**File: `package.json`**
```json
{
    "private": true,
    "type": "module",
    "scripts": {
        "dev": "vite",
        "build": "vite build",
        "preview": "vite preview"
    },
    "devDependencies": {
        "laravel-vite-plugin": "^0.8.0",
        "vite": "^4.4.0"
    }
}
```

#### Step 5: Update Blade Layout to Use Vite

**File: `resources/views/layouts/app.blade.php`** (create if doesn't exist)
```blade
<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>@yield('title', config('app.name'))</title>
    
    @vite(['resources/css/app.css', 'resources/js/app.js'])
</head>
<body>
    @yield('content')
</body>
</html>
```

#### Step 6: Create Basic CSS and JS Files

**File: `resources/css/app.css`**
```css
/* This file will be populated with Tailwind CSS in the next task */
```

**File: `resources/js/app.js`**
```javascript
// This file will be populated with Alpine.js in the next task
```

### 7.3 Validation
```bash
# Start Vite development server
npm run dev

# In another terminal, start Laravel server
php artisan serve

# Visit http://localhost:8000
# Check browser console for Vite HMR connection
```

## 8. Task P1.1.6: Install Tailwind CSS and Alpine.js

### 8.1 Overview
Install and configure Tailwind CSS for styling and Alpine.js for JavaScript interactions.

### 8.2 Step-by-Step Implementation

#### Step 1: Install Tailwind CSS and Dependencies
```bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

#### Step 2: Configure Tailwind CSS

**File: `tailwind.config.js`**
```javascript
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./resources/**/*.blade.php",
    "./resources/**/*.js",
    "./resources/**/*.vue",
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#f0f9ff',
          100: '#e0f2fe',
          200: '#bae6fd',
          300: '#7dd3fc',
          400: '#38bdf8',
          500: '#0ea5e9',
          600: '#0284c7',
          700: '#0369a1',
          800: '#075985',
          900: '#0c4a6e',
        },
        secondary: {
          50: '#faf5ff',
          100: '#f3e8ff',
          200: '#e9d5ff',
          300: '#d8b4fe',
          400: '#c084fc',
          500: '#a855f7',
          600: '#9333ea',
          700: '#7e22ce',
          800: '#6b21a8',
          900: '#581c87',
        },
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
        serif: ['Merriweather', 'serif'],
      },
    },
  },
  plugins: [],
}
```

#### Step 3: Configure PostCSS

**File: `postcss.config.js`** (should be auto-generated)
```javascript
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
```

#### Step 4: Update CSS File with Tailwind Directives

**File: `resources/css/app.css`**
```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
  }
  
  body {
    @apply font-sans antialiased;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-bold;
  }
}

@layer components {
  .btn {
    @apply px-6 py-3 rounded-lg font-semibold transition-colors duration-200;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
  
  .btn-secondary {
    @apply bg-secondary-600 text-white hover:bg-secondary-700 focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2;
  }
  
  .btn-outline {
    @apply border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white;
  }
  
  .container-custom {
    @apply container mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .section-padding {
    @apply py-12 md:py-16 lg:py-20;
  }
}
```

#### Step 5: Install Alpine.js
```bash
npm install alpinejs
```

#### Step 6: Configure Alpine.js

**File: `resources/js/app.js`**
```javascript
import './bootstrap';
import Alpine from 'alpinejs';

// Make Alpine available globally
window.Alpine = Alpine;

// Start Alpine
Alpine.start();
```

**File: `resources/js/bootstrap.js`** (create if doesn't exist)
```javascript
import axios from 'axios';
window.axios = axios;

window.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';
```

#### Step 7: Install Axios (for AJAX requests)
```bash
npm install axios
```

#### Step 8: Update package.json

**File: `package.json`** (final version)
```json
{
    "private": true,
    "type": "module",
    "scripts": {
        "dev": "vite",
        "build": "vite build",
        "preview": "vite preview"
    },
    "devDependencies": {
        "alpinejs": "^3.12.0",
        "autoprefixer": "^10.4.14",
        "axios": "^1.6.0",
        "laravel-vite-plugin": "^0.8.0",
        "postcss": "^8.4.24",
        "tailwindcss": "^3.3.2",
        "vite": "^4.4.0"
    }
}
```

### 8.3 Create Test Page

**File: `resources/views/test.blade.php`**
```blade
@extends('layouts.app')

@section('title', 'Test Page')

@section('content')
<div class="container-custom section-padding">
    <h1 class="text-4xl font-bold text-primary-600 mb-4">Tailwind CSS Test</h1>
    <p class="text-gray-700 mb-6">If you see styled content, Tailwind is working!</p>
    
    <button class="btn btn-primary">Primary Button</button>
    <button class="btn btn-secondary ml-4">Secondary Button</button>
    
    <div x-data="{ open: false }" class="mt-8">
        <button @click="open = !open" class="btn btn-outline">
            Toggle Alpine.js
        </button>
        <div x-show="open" x-transition class="mt-4 p-4 bg-gray-100 rounded">
            Alpine.js is working!
        </div>
    </div>
</div>
@endsection
```

### 8.4 Validation
```bash
# Build assets for production
npm run build

# Test in development
npm run dev

# Visit test page at http://localhost:8000/test
# Verify:
# - Tailwind styles are applied
# - Alpine.js toggle works
# - No console errors
```

## 9. Testing and Validation

### 9.1 Complete Environment Test
```bash
# 1. Verify Laravel
php artisan about

# 2. Verify database connection
php artisan db:show

# 3. Verify Vite
npm run dev
# Should start Vite dev server without errors

# 4. Verify Tailwind
# Check that Tailwind classes work in browser

# 5. Verify Alpine.js
# Check that Alpine directives work in browser
```

### 9.2 Common Issues and Solutions

#### Issue: Vite HMR not connecting
**Solution**: Ensure Vite dev server is running (`npm run dev`) and check `vite.config.js` server configuration.

#### Issue: Tailwind styles not applying
**Solution**: 
- Verify `tailwind.config.js` content paths include your Blade files
- Clear browser cache
- Restart Vite dev server

#### Issue: Alpine.js not working
**Solution**:
- Verify Alpine is imported and started in `app.js`
- Check browser console for errors
- Ensure Alpine directives use `x-` prefix

#### Issue: Database connection failed
**Solution**:
- Verify database exists
- Check `.env` database credentials
- Test connection: `php artisan db:show`

## 10. References

### 10.1 Architecture Documents
- System Architecture Overview: `documentation/01-architecture/01-system-architecture-overview.md`
- Laravel MVC Architecture: `documentation/01-architecture/02-laravel-mvc-architecture.md`
- Frontend Architecture: `documentation/01-architecture/04-frontend-architecture.md`

### 10.2 External Resources
- [Laravel Documentation](https://laravel.com/docs/10.x)
- [Vite Documentation](https://vitejs.dev/)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Alpine.js Documentation](https://alpinejs.dev/)

### 10.3 Related Tasks
- **Next Task**: P1.2 - Database Setup Implementation Plan
- **Dependencies**: None
- **Dependent Tasks**: P1.2.1, P1.3.1, P1.4.1

---

**Document Version**: 1.0  
**Last Updated**: 2025  
**Status**: Ready for Implementation
