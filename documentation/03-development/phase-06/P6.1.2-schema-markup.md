# P6.1.2 Schema Markup Implementation Plan

## 1. Overview and Objectives

### 1.1 Purpose
This document provides detailed step-by-step instructions for implementing comprehensive Schema.org structured data (JSON-LD) across The Strengths Toolbox website. This includes Organization, WebSite, WebPage, Article, and BreadcrumbList schemas.

### 1.2 Scope
This implementation plan covers tasks P6.1.2 through P6.1.6:
- **P6.1.2**: Implement schema markup for Organization
- **P6.1.3**: Implement schema markup for WebSite
- **P6.1.4**: Implement schema markup for WebPage
- **P6.1.5**: Implement schema markup for Article
- **P6.1.6**: Implement BreadcrumbList schema

### 1.3 Success Criteria
- Organization schema present on all pages
- WebSite schema present on all pages
- WebPage schema on all page views
- Article schema on all blog posts
- BreadcrumbList schema on pages with breadcrumbs
- All schemas validate with Google Rich Results Test
- All schemas properly formatted as JSON-LD
- No schema errors or warnings

## 2. Prerequisites

### 2.1 Required Knowledge
- Schema.org vocabulary
- JSON-LD format
- Structured data best practices
- Google Rich Results requirements
- Laravel Blade templating

### 2.2 Dependencies
- Task P2.1.4 completed (SEOService created)
- Task P6.1.1 completed (Meta tags implemented)
- All page views from Phase 4
- Blog post views from Phase 4

### 2.3 Reference Documents
- SEO Architecture: `documentation/01-architecture/05-seo-architecture.md`
- SEOService: `app/Services/SEOService.php`
- Structured Data Component: `resources/views/components/structured-data.blade.php`
- Schema.org Documentation: https://schema.org/

## 3. Existing Implementation Review

### 3.1 Current State
The following components are already implemented:
- `SEOService` has basic schema generation methods:
  - `generatePageSchema()` - WebPage schema
  - `generateArticleSchema()` - Article schema
  - `generateWebsiteSchema()` - WebSite schema
  - `generateBreadcrumbSchema()` - BreadcrumbList schema
- `structured-data.blade.php` component exists with basic Organization and WebSite schemas
- Layout includes structured data components
- Some schema markup already rendered in meta partial

### 3.2 What Needs to Be Done
- Enhance Organization schema with complete business information
- Enhance WebSite schema with search functionality
- Ensure WebPage schema is on all page views
- Enhance Article schema with complete metadata
- Implement BreadcrumbList schema on appropriate pages
- Create SchemaService for better organization
- Add validation for schema markup
- Ensure all schemas are properly rendered

## 4. Task P6.1.2: Implement Organization Schema

### 4.1 Overview
Create comprehensive Organization schema markup that includes business information, contact details, and social media profiles.

### 4.2 Step-by-Step Implementation

#### Step 1: Create SchemaService

**File: `app/Services/SchemaService.php`**

**Purpose:** Centralized service for all schema markup generation

```php
<?php

namespace App\Services;

use Illuminate\Support\Facades\Cache;

class SchemaService
{
    protected int $cacheTtl;

    public function __construct()
    {
        $this->cacheTtl = config('cache.ttl.schema', 86400); // 24 hours
    }

    /**
     * Generate Organization schema
     *
     * @return array
     */
    public function getOrganizationSchema(): array
    {
        return Cache::remember(
            'schema.organization',
            $this->cacheTtl,
            function () {
                return [
                    '@context' => 'https://schema.org',
                    '@type' => 'Organization',
                    'name' => config('app.name', 'The Strengths Toolbox'),
                    'url' => config('app.url'),
                    'logo' => [
                        '@type' => 'ImageObject',
                        'url' => asset('images/logo.png'),
                        'width' => 300,
                        'height' => 100,
                    ],
                    'description' => config('app.description', 'Build Strong Teams. Unlock Strong Profits.'),
                    'foundingDate' => '1995', // Update with actual founding date
                    'contactPoint' => [
                        '@type' => 'ContactPoint',
                        'telephone' => '+27-83-294-8033',
                        'contactType' => 'Customer Service',
                        'email' => config('mail.from.address', 'welcome@eberhardniklaus.co.za'),
                        'areaServed' => [
                            '@type' => 'Country',
                            'name' => 'South Africa',
                        ],
                        'availableLanguage' => ['English'],
                    ],
                    'address' => [
                        '@type' => 'PostalAddress',
                        'addressCountry' => 'ZA',
                        'addressRegion' => 'Gauteng', // Update with actual region
                    ],
                    'sameAs' => [
                        // Add social media profiles when available
                        // 'https://www.facebook.com/thestrengthstoolbox',
                        // 'https://www.linkedin.com/company/thestrengthstoolbox',
                        // 'https://twitter.com/strengthstoolbox',
                    ],
                    'founder' => [
                        '@type' => 'Person',
                        'name' => 'Eberhard Niklaus',
                    ],
                ];
            }
        );
    }

    /**
     * Generate WebSite schema
     *
     * @return array
     */
    public function getWebSiteSchema(): array
    {
        return Cache::remember(
            'schema.website',
            $this->cacheTtl,
            function () {
                return [
                    '@context' => 'https://schema.org',
                    '@type' => 'WebSite',
                    'name' => config('app.name', 'The Strengths Toolbox'),
                    'url' => config('app.url'),
                    'description' => config('app.description', 'Build Strong Teams. Unlock Strong Profits.'),
                    'inLanguage' => config('app.locale', 'en-ZA'),
                    'publisher' => [
                        '@type' => 'Organization',
                        'name' => config('app.name', 'The Strengths Toolbox'),
                        'logo' => [
                            '@type' => 'ImageObject',
                            'url' => asset('images/logo.png'),
                        ],
                    ],
                    'potentialAction' => [
                        '@type' => 'SearchAction',
                        'target' => [
                            '@type' => 'EntryPoint',
                            'urlTemplate' => route('search') . '?q={search_term_string}',
                        ],
                        'query-input' => 'required name=search_term_string',
                    ],
                ];
            }
        );
    }

    /**
     * Generate WebPage schema
     *
     * @param \App\Models\Page $page
     * @return array
     */
    public function getWebPageSchema($page): array
    {
        return [
            '@context' => 'https://schema.org',
            '@type' => 'WebPage',
            'name' => $page->title,
            'description' => $page->meta_description ?? $this->generateDescription($page->content),
            'url' => url('/' . $page->slug),
            'inLanguage' => config('app.locale', 'en-ZA'),
            'isPartOf' => [
                '@type' => 'WebSite',
                'name' => config('app.name', 'The Strengths Toolbox'),
                'url' => config('app.url'),
            ],
            'datePublished' => $page->published_at?->toIso8601String(),
            'dateModified' => $page->updated_at->toIso8601String(),
            'author' => [
                '@type' => 'Organization',
                'name' => config('app.name', 'The Strengths Toolbox'),
            ],
            'publisher' => [
                '@type' => 'Organization',
                'name' => config('app.name', 'The Strengths Toolbox'),
                'logo' => [
                    '@type' => 'ImageObject',
                    'url' => asset('images/logo.png'),
                ],
            ],
        ];
    }

    /**
     * Generate Article schema
     *
     * @param \App\Models\BlogPost $post
     * @return array
     */
    public function getArticleSchema($post): array
    {
        $schema = [
            '@context' => 'https://schema.org',
            '@type' => 'Article',
            'headline' => $post->title,
            'description' => $post->meta_description ?? $post->excerpt ?? $this->generateDescription($post->content),
            'url' => url('/blog/' . $post->slug),
            'datePublished' => $post->published_at?->toIso8601String(),
            'dateModified' => $post->updated_at->toIso8601String(),
            'author' => [
                '@type' => 'Person',
                'name' => $post->author->name ?? config('app.name'),
            ],
            'publisher' => [
                '@type' => 'Organization',
                'name' => config('app.name', 'The Strengths Toolbox'),
                'logo' => [
                    '@type' => 'ImageObject',
                    'url' => asset('images/logo.png'),
                    'width' => 300,
                    'height' => 100,
                ],
            ],
            'mainEntityOfPage' => [
                '@type' => 'WebPage',
                '@id' => url('/blog/' . $post->slug),
            ],
            'inLanguage' => config('app.locale', 'en-ZA'),
        ];

        // Add featured image
        if ($post->featured_image) {
            $schema['image'] = [
                '@type' => 'ImageObject',
                'url' => asset('storage/' . $post->featured_image),
            ];
        }

        // Add article section (category)
        if ($post->categories && $post->categories->isNotEmpty()) {
            $schema['articleSection'] = $post->categories->first()->name;
        }

        // Add keywords (tags)
        if ($post->tags && $post->tags->isNotEmpty()) {
            $schema['keywords'] = $post->tags->pluck('name')->join(', ');
        }

        return $schema;
    }

    /**
     * Generate BreadcrumbList schema
     *
     * @param array $items Array of ['name' => string, 'url' => string]
     * @return array
     */
    public function getBreadcrumbSchema(array $items): array
    {
        $breadcrumbList = [
            '@context' => 'https://schema.org',
            '@type' => 'BreadcrumbList',
            'itemListElement' => [],
        ];

        foreach ($items as $position => $item) {
            $breadcrumbList['itemListElement'][] = [
                '@type' => 'ListItem',
                'position' => $position + 1,
                'name' => $item['name'],
                'item' => $item['url'] ?? null,
            ];
        }

        return $breadcrumbList;
    }

    /**
     * Generate description from content
     *
     * @param string $content
     * @param int $length
     * @return string
     */
    protected function generateDescription(string $content, int $length = 160): string
    {
        $text = strip_tags($content);
        $text = preg_replace('/\s+/', ' ', $text);
        $text = trim($text);
        
        if (strlen($text) <= $length) {
            return $text;
        }

        return substr($text, 0, $length - 3) . '...';
    }

    /**
     * Clear schema cache
     *
     * @return void
     */
    public function clearCache(): void
    {
        Cache::forget('schema.organization');
        Cache::forget('schema.website');
    }
}
```

#### Step 2: Register SchemaService

**File: `app/Providers/AppServiceProvider.php`**

**Update required:**
```php
use App\Services\SchemaService;

public function register(): void
{
    $this->app->singleton(SchemaService::class, function ($app) {
        return new SchemaService();
    });
}
```

#### Step 3: Update Structured Data Component

**File: `resources/views/components/structured-data.blade.php`**

**Update required:**
```blade
@props(['type', 'data' => null])

@php
    $schemaService = app(\App\Services\SchemaService::class);
    
    $structuredData = match($type) {
        'organization' => $schemaService->getOrganizationSchema(),
        'website' => $schemaService->getWebSiteSchema(),
        'webpage' => $schemaService->getWebPageSchema($data),
        'article' => $schemaService->getArticleSchema($data),
        'breadcrumb' => $schemaService->getBreadcrumbSchema($data ?? []),
        default => [],
    };
@endphp

@if(!empty($structuredData))
    <script type="application/ld+json">
        {!! json_encode($structuredData, JSON_UNESCAPED_SLASHES | JSON_PRETTY_PRINT) !!}
    </script>
@endif
```

#### Step 4: Update Layout to Include Organization and WebSite Schemas

**File: `resources/views/layouts/app.blade.php`**

**Current state:** Already includes organization and website schemas

**Verify it looks like:**
```blade
{{-- Structured Data --}}
<x-structured-data type="organization" />
<x-structured-data type="website" />
```

## 5. Task P6.1.4: Implement WebPage Schema on All Pages

### 5.1 Overview
Ensure WebPage schema is present on all page views.

### 5.2 Step-by-Step Implementation

#### Step 1: Update Page Views

**File: `resources/views/web/pages/show.blade.php`**

**Update required:**
```blade
@extends('layouts.app')

@section('title', $seo['title'] ?? $page->title)

@section('content')
    <x-content-page :page="$page" />
@endsection

@push('schema')
    <x-structured-data type="webpage" :data="$page" />
@endpush
```

#### Step 2: Update Static Page Views

**Files to update:**
- `resources/views/pages/home.blade.php`
- `resources/views/pages/about-us.blade.php`
- `resources/views/pages/strengths-programme.blade.php`
- `resources/views/pages/contact.blade.php`
- `resources/views/pages/booking.blade.php`
- `resources/views/pages/testimonials.blade.php`
- `resources/views/pages/books.blade.php`
- `resources/views/pages/keynote-talks.blade.php`
- `resources/views/pages/privacy-statement.blade.php`

**Action:** Add schema section to each view:

```blade
@push('schema')
    @php
        $pageData = (object) [
            'title' => $seo['title'] ?? 'Page Title',
            'meta_description' => $seo['description'] ?? '',
            'content' => '', // Static page content
            'slug' => request()->path(),
            'published_at' => now(),
            'updated_at' => now(),
        ];
    @endphp
    <x-structured-data type="webpage" :data="$pageData" />
@endpush
```

**Note:** For static pages, create a simple object with the required properties.

#### Step 3: Update Layout to Render Schema Stack

**File: `resources/views/layouts/app.blade.php`**

**Update required:**
```blade
{{-- Structured Data --}}
<x-structured-data type="organization" />
<x-structured-data type="website" />

{{-- Page-specific Schema --}}
@stack('schema')
```

## 6. Task P6.1.5: Enhance Article Schema

### 6.1 Overview
Ensure Article schema is complete and present on all blog post views.

### 6.2 Step-by-Step Implementation

#### Step 1: Update Blog Post View

**File: `resources/views/blog/show.blade.php`**

**Update required:**
```blade
@extends('layouts.app')

@section('title', $seo['title'] ?? $post->title)

@section('content')
    {{-- Blog post content --}}
@endsection

@push('schema')
    <x-structured-data type="article" :data="$post" />
@endpush
```

#### Step 2: Verify Article Schema Includes All Required Fields

**File: `app/Services/SchemaService.php`**

**Verify:** The `getArticleSchema()` method includes:
- headline
- description
- url
- datePublished
- dateModified
- author (Person)
- publisher (Organization with logo)
- mainEntityOfPage
- image (if available)
- articleSection (category)
- keywords (tags)

## 7. Task P6.1.6: Implement BreadcrumbList Schema

### 7.1 Overview
Add BreadcrumbList schema to pages that have breadcrumb navigation.

### 7.2 Step-by-Step Implementation

#### Step 1: Create Breadcrumb Helper

**File: `app/Helpers/BreadcrumbHelper.php`**

```php
<?php

namespace App\Helpers;

class BreadcrumbHelper
{
    /**
     * Generate breadcrumb items for a page
     *
     * @param string $currentPageTitle
     * @param string|null $currentPageUrl
     * @return array
     */
    public static function generate(string $currentPageTitle, ?string $currentPageUrl = null): array
    {
        $items = [
            [
                'name' => 'Home',
                'url' => url('/'),
            ],
        ];

        // Add current page
        $items[] = [
            'name' => $currentPageTitle,
            'url' => $currentPageUrl ?? url()->current(),
        ];

        return $items;
    }

    /**
     * Generate breadcrumb items for blog post
     *
     * @param string $postTitle
     * @param string $postUrl
     * @param string|null $categoryName
     * @param string|null $categoryUrl
     * @return array
     */
    public static function generateForPost(
        string $postTitle,
        string $postUrl,
        ?string $categoryName = null,
        ?string $categoryUrl = null
    ): array {
        $items = [
            [
                'name' => 'Home',
                'url' => url('/'),
            ],
            [
                'name' => 'Blog',
                'url' => route('blog.index'),
            ],
        ];

        // Add category if available
        if ($categoryName && $categoryUrl) {
            $items[] = [
                'name' => $categoryName,
                'url' => $categoryUrl,
            ];
        }

        // Add current post
        $items[] = [
            'name' => $postTitle,
            'url' => $postUrl,
        ];

        return $items;
    }
}
```

#### Step 2: Update Page Views with Breadcrumbs

**File: `resources/views/web/pages/show.blade.php`**

**Update required:**
```blade
@push('schema')
    <x-structured-data type="webpage" :data="$page" />
    
    @php
        $breadcrumbs = \App\Helpers\BreadcrumbHelper::generate($page->title, url('/' . $page->slug));
    @endphp
    <x-structured-data type="breadcrumb" :data="$breadcrumbs" />
@endpush
```

#### Step 3: Update Blog Post View with Breadcrumbs

**File: `resources/views/blog/show.blade.php`**

**Update required:**
```blade
@push('schema')
    <x-structured-data type="article" :data="$post" />
    
    @php
        $category = $post->categories->first();
        $breadcrumbs = \App\Helpers\BreadcrumbHelper::generateForPost(
            $post->title,
            url('/blog/' . $post->slug),
            $category?->name,
            $category ? route('blog.category', $category->slug) : null
        );
    @endphp
    <x-structured-data type="breadcrumb" :data="$breadcrumbs" />
@endpush
```

#### Step 4: Update Blog Category and Tag Views

**Files:**
- `resources/views/blog/category.blade.php`
- `resources/views/blog/tag.blade.php`

**Update required:**
Add breadcrumb schema to category and tag archive pages.

## 8. Update SEOService to Use SchemaService

### 8.1 Overview
Refactor SEOService to use SchemaService for schema generation.

### 8.2 Step-by-Step Implementation

#### Step 1: Update SEOService

**File: `app/Services/SEOService.php`**

**Update required:**
```php
use App\Services\SchemaService;

protected SchemaService $schemaService;

public function __construct(SchemaService $schemaService)
{
    $this->cacheTtl = config('cache.ttl.seo', 7200);
    $this->schemaService = $schemaService;
}

public function getPageMeta(Page $page): array
{
    return Cache::remember(
        "seo.page.{$page->id}",
        $this->cacheTtl,
        function () use ($page) {
            $seo = $page->seo;

            return [
                'title' => $seo->og_title ?? $page->meta_title ?? $page->title,
                'description' => $seo->og_description ?? $page->meta_description ?? $this->generateDescription($page->content),
                'keywords' => $page->meta_keywords ?? '',
                'canonical' => $seo->canonical_url ?? url('/' . $page->slug),
                'og_title' => $seo->og_title ?? $page->meta_title ?? $page->title,
                'og_description' => $seo->og_description ?? $page->meta_description ?? $this->generateDescription($page->content),
                'og_image' => $seo->og_image ?? config('app.og_default_image'),
                'og_type' => $seo->og_type ?? 'website',
                'twitter_card' => $seo->twitter_card ?? 'summary_large_image',
                'twitter_title' => $seo->og_title ?? $page->meta_title ?? $page->title,
                'twitter_description' => $seo->og_description ?? $page->meta_description ?? $this->generateDescription($page->content),
                'twitter_image' => $seo->og_image ?? config('app.og_default_image'),
                'schema' => $this->schemaService->getWebPageSchema($page),
            ];
        }
    );
}

public function getBlogPostMeta(BlogPost $post): array
{
    return Cache::remember(
        "seo.blog_post.{$post->id}",
        $this->cacheTtl,
        function () use ($post) {
            // ... existing meta tag generation ...
            
            return [
                // ... existing meta tags ...
                'schema' => $this->schemaService->getArticleSchema($post),
            ];
        }
    );
}

// Remove generatePageSchema, generateArticleSchema, generateWebsiteSchema methods
// They are now in SchemaService
```

## 9. Create Schema Validation Command

### 9.1 Overview
Create an Artisan command to validate schema markup.

### 9.2 Step-by-Step Implementation

#### Step 1: Create Validation Command

**File: `app/Console/Commands/ValidateSchema.php`**

```php
<?php

namespace App\Console\Commands;

use App\Models\Page;
use App\Models\BlogPost;
use App\Services\SchemaService;
use Illuminate\Console\Command;
use Illuminate\Support\Facades\Validator;

class ValidateSchema extends Command
{
    protected $signature = 'seo:validate-schema {--url= : Specific URL to validate}';
    protected $description = 'Validate Schema.org structured data';

    protected SchemaService $schemaService;

    public function __construct(SchemaService $schemaService)
    {
        parent::__construct();
        $this->schemaService = $schemaService;
    }

    public function handle(): int
    {
        $this->info('Validating Schema.org structured data...');
        $this->newLine();

        $errors = [];
        $warnings = [];

        // Validate Organization schema
        $this->info('Validating Organization schema...');
        $orgSchema = $this->schemaService->getOrganizationSchema();
        $orgValidation = $this->validateSchema($orgSchema, 'Organization');
        $errors = array_merge($errors, $orgValidation['errors']);
        $warnings = array_merge($warnings, $orgValidation['warnings']);

        // Validate WebSite schema
        $this->info('Validating WebSite schema...');
        $siteSchema = $this->schemaService->getWebSiteSchema();
        $siteValidation = $this->validateSchema($siteSchema, 'WebSite');
        $errors = array_merge($errors, $siteValidation['errors']);
        $warnings = array_merge($warnings, $siteValidation['warnings']);

        // Validate sample pages
        $this->info('Validating page schemas...');
        $pages = Page::where('is_published', true)->limit(5)->get();
        foreach ($pages as $page) {
            $pageSchema = $this->schemaService->getWebPageSchema($page);
            $pageValidation = $this->validateSchema($pageSchema, "WebPage: {$page->slug}");
            $errors = array_merge($errors, $pageValidation['errors']);
            $warnings = array_merge($warnings, $pageValidation['warnings']);
        }

        // Validate sample blog posts
        $this->info('Validating article schemas...');
        $posts = BlogPost::where('is_published', true)->limit(5)->get();
        foreach ($posts as $post) {
            $articleSchema = $this->schemaService->getArticleSchema($post);
            $articleValidation = $this->validateSchema($articleSchema, "Article: {$post->slug}");
            $errors = array_merge($errors, $articleValidation['errors']);
            $warnings = array_merge($warnings, $articleValidation['warnings']);
        }

        // Display results
        if (empty($errors) && empty($warnings)) {
            $this->info('✓ All schemas are valid!');
            return 0;
        }

        if (!empty($errors)) {
            $this->error('Errors found:');
            foreach ($errors as $error) {
                $this->line("  ✗ {$error}");
            }
            $this->newLine();
        }

        if (!empty($warnings)) {
            $this->warn('Warnings:');
            foreach ($warnings as $warning) {
                $this->line("  ⚠ {$warning}");
            }
        }

        return empty($errors) ? 0 : 1;
    }

    protected function validateSchema(array $schema, string $type): array
    {
        $errors = [];
        $warnings = [];

        // Check required @context
        if (!isset($schema['@context']) || $schema['@context'] !== 'https://schema.org') {
            $errors[] = "{$type}: Missing or invalid @context";
        }

        // Check required @type
        if (!isset($schema['@type'])) {
            $errors[] = "{$type}: Missing @type";
        }

        // Type-specific validation
        switch ($schema['@type'] ?? '') {
            case 'Organization':
                if (!isset($schema['name'])) {
                    $errors[] = "{$type}: Missing required field 'name'";
                }
                if (!isset($schema['url'])) {
                    $errors[] = "{$type}: Missing required field 'url'";
                }
                break;

            case 'WebSite':
                if (!isset($schema['name'])) {
                    $errors[] = "{$type}: Missing required field 'name'";
                }
                if (!isset($schema['url'])) {
                    $errors[] = "{$type}: Missing required field 'url'";
                }
                break;

            case 'WebPage':
                if (!isset($schema['name'])) {
                    $errors[] = "{$type}: Missing required field 'name'";
                }
                if (!isset($schema['url'])) {
                    $errors[] = "{$type}: Missing required field 'url'";
                }
                break;

            case 'Article':
                if (!isset($schema['headline'])) {
                    $errors[] = "{$type}: Missing required field 'headline'";
                }
                if (!isset($schema['datePublished'])) {
                    $errors[] = "{$type}: Missing required field 'datePublished'";
                }
                if (!isset($schema['author'])) {
                    $errors[] = "{$type}: Missing required field 'author'";
                }
                if (!isset($schema['publisher'])) {
                    $errors[] = "{$type}: Missing required field 'publisher'";
                }
                break;

            case 'BreadcrumbList':
                if (!isset($schema['itemListElement']) || empty($schema['itemListElement'])) {
                    $errors[] = "{$type}: Missing or empty 'itemListElement'";
                }
                break;
        }

        return ['errors' => $errors, 'warnings' => $warnings];
    }
}
```

## 10. Testing Instructions

### 10.1 Manual Testing

1. **Test Organization Schema:**
   - Visit any page
   - View page source
   - Search for "Organization"
   - Verify JSON-LD is present and valid
   - Copy JSON-LD and test in Google Rich Results Test

2. **Test WebSite Schema:**
   - Visit homepage
   - View page source
   - Verify WebSite schema includes search functionality
   - Test in Google Rich Results Test

3. **Test WebPage Schema:**
   - Visit various pages
   - Verify WebPage schema is present
   - Verify all required fields are present

4. **Test Article Schema:**
   - Visit blog post
   - Verify Article schema is present
   - Verify author, publisher, dates are correct
   - Test in Google Rich Results Test

5. **Test BreadcrumbList Schema:**
   - Visit page with breadcrumbs
   - Verify BreadcrumbList schema is present
   - Verify all items have position, name, and item

### 10.2 Automated Testing

1. **Run validation command:**
   ```bash
   php artisan seo:validate-schema
   ```

2. **Use Google Rich Results Test:**
   - Visit: https://search.google.com/test/rich-results
   - Enter page URL
   - Verify no errors

3. **Use Schema.org Validator:**
   - Visit: https://validator.schema.org/
   - Paste JSON-LD code
   - Verify validation

## 11. Success Criteria Validation

- [ ] Organization schema present on all pages
- [ ] WebSite schema present on all pages
- [ ] WebPage schema on all page views
- [ ] Article schema on all blog posts
- [ ] BreadcrumbList schema on pages with breadcrumbs
- [ ] All schemas validate with Google Rich Results Test
- [ ] All schemas properly formatted as JSON-LD
- [ ] No schema errors in validation command
- [ ] Schema cache working correctly

## 12. Notes and Considerations

1. **Schema Caching:**
   - Organization and WebSite schemas are cached for 24 hours
   - Clear cache when updating business information

2. **Required Fields:**
   - Each schema type has required fields per Schema.org
   - Ensure all required fields are present

3. **Image URLs:**
   - Use absolute URLs for images in schemas
   - Ensure images are accessible

4. **Date Formats:**
   - Use ISO 8601 format for dates
   - Example: 2025-01-27T10:00:00+02:00

5. **Future Enhancements:**
   - Add LocalBusiness schema if physical location
   - Add Service schema for service pages
   - Add Review schema for testimonials
   - Add FAQPage schema for FAQ sections

---

**Document Version:** 1.0  
**Date Created:** 2025-01-27  
**Status:** Ready for Implementation
